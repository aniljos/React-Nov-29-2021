(this["webpackJsonpthe-awesome-app"]=this["webpackJsonpthe-awesome-app"]||[]).push([[0],{121:function(e,t,c){},155:function(e,t,c){"use strict";c.r(t);var n=c(0),r=c.n(n),a=c(26),o=c.n(a),s=(c(121),c(13)),i=c(202),u=c(208),l=c(209),j=c(207),d=c(201),h=c(210),b=c(106),p=c.n(b),O=c(197),f=c(204),x=c(211),m=c(199),v=c(205),g=c(206),y=c(81),C=c.n(y),S=c(82),T=c.n(S),k=c(107),w=c.n(k),E=c(35),N=c.n(E),A=c(42),R=c(43),D=c.n(R),I=c(27),P=c(44),U=function(e){return{type:"SET_AUTH",payload:e}},L=c(29),M=c(109),_=c(1),G=["title"];var z=function(e){var t=e.title,c=Object(M.a)(e,G);return Object(_.jsxs)("div",{className:"form-group",children:[Object(_.jsx)("label",{children:t}),Object(_.jsx)("input",Object(L.a)({className:"form-control"},c))]})};var H=function(e){console.log("[Login] component",e);var t=Object(n.useState)("abc"),c=Object(s.a)(t,2),r=c[0],a=c[1],o=Object(n.useState)("abc@123"),i=Object(s.a)(o,2),u=i[0],l=i[1],j=Object(n.useState)(""),d=Object(s.a)(j,2),h=d[0],b=d[1],p=Object(I.c)();function O(){return(O=Object(A.a)(N.a.mark((function t(){var c;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("userName: ".concat(r,", password: ").concat(u)),t.prev=1,"http://localhost:9000/login",t.next=5,Object(P.trackPromise)(D.a.post("http://localhost:9000/login",{name:r,password:u}));case 5:c=t.sent,console.log(c),p(U({isAuthenticated:!0,accessToken:c.data.accessToken,refreshToken:c.data.refreshToken})),b(""),e.history.push("/gadgets"),t.next=17;break;case 12:t.prev=12,t.t0=t.catch(1),console.log("Login Error",t.t0),b("Invalid Credentials"),p(U({isAuthenticated:!1,accessToken:"",refreshToken:""}));case 17:case"end":return t.stop()}}),t,null,[[1,12]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){return console.log("This is a useEffect similar to the componentDidMount"),function(){console.log("This is a useEffect similar to the componentWillUnMount")}}),[]),Object(n.useEffect)((function(){console.log("This is a useEffect similar to the componentDidUpdate(userName)")}),[r]),Object(n.useEffect)((function(){console.log("This is a useEffect similar to the componentDidUpdate(password)")}),[u]),Object(n.useEffect)((function(){console.log("This is a useEffect similar to the componentDidUpdate(userName,password)")}),[r,u]),Object(_.jsxs)("div",{children:[Object(_.jsx)("h4",{children:"Login"}),Object(_.jsx)("p",{}),h?Object(_.jsx)("div",{className:"alert alert-danger",children:h}):null,Object(_.jsx)(z,{value:r,onChange:function(e){a(e.target.value)}}),Object(_.jsx)(z,{value:u,onChange:function(e){return l(e.target.value)}}),Object(_.jsx)("br",{}),Object(_.jsx)("div",{children:Object(_.jsx)("button",{className:"btn btn-success",onClick:function(){return O.apply(this,arguments)},children:"Login"})})]})},F=c(14),q=c(66);var B=function(){var e=Object(n.useState)(Array(10).fill(1)),t=Object(s.a)(e,2),c=t[0],r=t[1],a=Object(I.d)((function(e){return e.cart.products})),o=Object(I.d)((function(e){return e.auth})),i=Object(I.c)(),u=Object(q.b)().enqueueSnackbar;return console.log("products",a),Object(n.useEffect)((function(){!function(){i((e=o.accessToken,function(){var t=Object(A.a)(N.a.mark((function t(c){var n,r;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,n={Authorization:"Bearer ".concat(e)},t.next=5,Object(P.trackPromise)(D.a.get("http://localhost:9000/secure_products",{headers:n}));case 5:r=t.sent,c({type:"GETPRODUCTS",payload:r.data}),t.next=11;break;case 9:t.prev=9,t.t0=t.catch(1);case 11:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()));var e}()}),[]),Object(_.jsxs)("div",{children:[Object(_.jsx)("h4",{children:"Gadget Store"}),function(){var e=a.map((function(e,t){return Object(_.jsx)("div",{className:"col",children:Object(_.jsx)("div",{className:"card border-warning",children:Object(_.jsxs)("div",{className:"card-body text-success",children:[Object(_.jsx)("h5",{className:"card-title",children:e.name}),Object(_.jsx)("p",{className:"card-text",children:e.description}),Object(_.jsxs)("p",{className:"card-text text-primary",children:["INR ",e.price]}),Object(_.jsx)("input",{className:"form-control",type:"number",placeholder:"Quantity",value:c[t],onChange:function(e){return function(e,t){var n=Object(F.a)(c);n[t]=e.target.value,r(n)}(e,t)}}),Object(_.jsx)("button",{href:"#",className:"btn btn-primary",onClick:function(){return function(e,t){console.log("addtocart",e,c[t]),i({type:"ADDTOCART",payload:{product:e,quantity:c[t]}}),u("Added ".concat(e.name," to the cart"),{variant:"success"})}(e,t)},children:"Add To Cart"})]})})},t)}));return Object(_.jsx)("div",{className:"row row-cols-1 row-cols-md-2 g-4",children:e})}()]})},V=function(e){return function(t){return Object(_.jsx)("div",{style:{border:"2px solid red"},children:Object(_.jsx)(e,Object(L.a)({},t))})}};var J=V((function(e){return Object(_.jsxs)("div",{children:[Object(_.jsx)("h3",{children:"Hello React"}),Object(_.jsxs)("p",{children:["Message: ",e.message.toUpperCase()]}),Object(_.jsxs)("p",{children:["Created DateTime: ",(new Date).toISOString()]})]})})),Q=c(37),X=c(38),Y=c(64),K=c(41),W=c(40),Z=V(function(e){Object(K.a)(c,e);var t=Object(W.a)(c);function c(e){var n;return Object(Q.a)(this,c),(n=t.call(this,e)).state={count:10,message:"test"},n.inputRef=r.a.createRef(),n.inc=function(e){console.log("event",e);var t=n.state.count+1;n.setState({count:t},(function(){console.log("count",n.state.count)}))},n.change=function(e){var t=e.target.value;n.setState({count:t?parseInt(t):0})},n.update=function(){n.inputRef.current.value&&n.setState({count:parseInt(n.inputRef.current.value)})},n.decr=n.decr.bind(Object(Y.a)(n)),n}return Object(X.a)(c,[{key:"decr",value:function(){var e=this;console.log(this);var t=this.state.count-1;this.setState({count:t},(function(){console.log("count",e.state.count)}))}},{key:"render",value:function(){return Object(_.jsxs)("div",{children:[Object(_.jsxs)("h4",{id:"title",children:["Counter: ",this.state.count]}),Object(_.jsxs)("p",{children:["Message: ",this.props.message]}),Object(_.jsx)("div",{children:Object(_.jsx)("button",{onClick:this.inc,children:"Inc"})}),Object(_.jsx)("div",{children:Object(_.jsx)("button",{onClick:this.decr,children:"Decr"})}),Object(_.jsxs)("div",{children:["Count: ",Object(_.jsx)("input",{id:"value",type:"number",placeholder:"Count",value:this.state.count,onChange:this.change})]}),Object(_.jsxs)("div",{children:["Count: ",Object(_.jsx)("input",{type:"number",ref:this.inputRef,placeholder:"Update Count"}),Object(_.jsx)("button",{onClick:this.update,children:"Update"})]})]})}}]),c}(n.Component)),$=function(e){Object(K.a)(c,e);var t=Object(W.a)(c);function c(){var e;Object(Q.a)(this,c);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).remove=function(t){e.props.removeCartItem(t)},e}return Object(X.a)(c,[{key:"render",value:function(){var e=this;return Object(_.jsxs)("div",{children:[Object(_.jsx)("h3",{children:"Cart"}),Object(_.jsx)("div",{className:"row row-cols-1 row-cols-md-2 g-4",children:this.props.cart.map((function(t,c){return Object(_.jsx)("div",{className:"col",children:Object(_.jsxs)("div",{className:"card bg-light mb-3 border-success",children:[Object(_.jsx)("p",{className:"card-header",children:t.product.name}),Object(_.jsxs)("div",{className:"card-body",children:[Object(_.jsx)("p",{className:"card-text",children:t.product.description}),Object(_.jsxs)("p",{className:"card-text",children:["Quantity: ",t.quantity]})]}),Object(_.jsx)("div",{className:"card-footer",children:Object(_.jsx)("button",{className:"btn btn-success",onClick:function(){return e.remove(t.product.id)},children:"Remove"})})]})},c)}))})]})}}]),c}(n.PureComponent),ee=Object(I.b)((function(e){return{cart:e.cart.cart}}),(function(e){return{removeCartItem:function(t){e({type:"REMOVECARTITEM",productId:t})}}}))($),te=[{component:H,title:"Login",icon:"",path:"/login",secure:!1},{component:J,title:"Home",icon:"",path:"/home",secure:!1},{component:Z,title:"Counter",icon:"",path:"/counter",secure:!1},{component:r.a.lazy((function(){return c.e(3).then(c.bind(null,215))})),title:"Products",icon:"",path:"/products",secure:!0},{component:B,title:"Gadgets",icon:"",path:"/gadgets",secure:!0},{component:ee,title:"Cart",icon:"",path:"/cart",secure:!0}],ce=c(15),ne=c(76);var re=function(e){var t=e.path,c=e.component;return!0===Object(I.d)((function(e){return e.auth.isAuthenticated}))?Object(_.jsx)(ce.b,{path:t,component:c}):Object(_.jsx)(ce.b,{path:t,children:Object(_.jsx)(ce.a,{to:"/login"})})};c(154);function ae(e){var t=Object(ce.f)(),c=e.renderSecure;function n(c){t.push(c.path),e.onSelect(!1)}return Object(_.jsx)(f.a,{children:te.map((function(e,t){return"N"===c&&!1===e.secure||"Y"===c&&!0===e.secure?Object(_.jsxs)(m.a,{button:!0,onClick:function(){n(e)},children:[Object(_.jsx)(v.a,{children:t%2===0?Object(_.jsx)(C.a,{}):Object(_.jsx)(T.a,{})}),Object(_.jsx)(g.a,{primary:e.title})]},t):null}))})}var oe=function(e){var t=Object(n.useState)(!1),c=Object(s.a)(t,2),r=c[0],a=c[1];return Object(_.jsx)(ne.a,{children:Object(_.jsxs)(i.a,{container:!0,spacing:2,children:[Object(_.jsxs)(i.a,{item:!0,xs:12,children:[Object(_.jsx)(u.a,{position:"static",children:Object(_.jsxs)(l.a,{children:[Object(_.jsx)(h.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},onClick:function(){return a(!0)},children:Object(_.jsx)(p.a,{})}),Object(_.jsx)(j.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"React"}),Object(_.jsx)(d.a,{color:"inherit",children:"Login"})]})}),Object(_.jsxs)(O.a,{sx:{width:240,flexShrink:0,"& .MuiDrawer-paper":{width:240,boxSizing:"border-box"}},variant:"temporary",anchor:"left",open:r,onClose:function(){return a(!1)},children:[Object(_.jsx)(h.a,{onClick:function(){return a(!1)},children:Object(_.jsx)(w.a,{})}),Object(_.jsx)(x.a,{}),Object(_.jsx)(ae,{onSelect:a,renderSecure:"N"}),Object(_.jsx)(x.a,{}),Object(_.jsx)(ae,{onSelect:a,renderSecure:"Y"})]})]}),Object(_.jsx)(i.a,{item:!0,xs:12,children:Object(_.jsx)(n.Suspense,{fallback:Object(_.jsx)("div",{children:"Loading...."}),children:te.map((function(e,t){return!1===e.secure?Object(_.jsx)(ce.b,{path:e.path,component:e.component}):Object(_.jsx)(re,{path:e.path,component:e.component})}))})})]})})},se=function(e){e&&e instanceof Function&&c.e(4).then(c.bind(null,214)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;c(e),n(e),r(e),a(e),o(e)}))},ie=c(52),ue=c(108),le={isAuthenticated:!1,accessToken:"",refreshToken:""},je={cart:[],products:[]},de=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ie.c,he=Object(ie.d)(Object(ie.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;return"SET_AUTH"===t.type?Object(L.a)({},t.payload):e},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;if("ADDTOCART"===t.type){var c=Object(F.a)(e.cart);return c.push(t.payload),Object(L.a)(Object(L.a)({},e),{},{cart:c})}if("REMOVECARTITEM"===t.type){var n=Object(F.a)(e.cart),r=n.findIndex((function(e){return e.product.id===t.productId}));return-1!==r&&n.splice(r,1),Object(L.a)(Object(L.a)({},e),{},{cart:n})}return"GETPRODUCTS"===t.type?Object(L.a)(Object(L.a)({},e),{},{products:t.payload}):e}}),de(Object(ie.a)((function(e){return function(t){return function(c){console.log("Prev State",e.getState()),console.log("Action",c);var n=t(c);return console.log("Updated State",e.getState()),n}}}),ue.a))),be=r.a.createContext(),pe={mode:"light"},Oe=function(e,t){return"DARK"===t.type?{mode:"dark"}:"LIGHT"===t.type?{mode:"light"}:e};var fe=function(e){var t=Object(n.useReducer)(Oe,pe),c=Object(s.a)(t,2),r=c[0],a=c[1];return Object(_.jsx)(be.Provider,{value:{state:r,dispatch:a},children:e.children})},xe=function(e){var t=Object(P.usePromiseTracker)().promiseInProgress;return Object(_.jsx)("div",{children:!0===t?Object(_.jsx)("h3",{children:"Loading, Please wait..."}):null})},me=function(e){Object(K.a)(c,e);var t=Object(W.a)(c);function c(){var e;Object(Q.a)(this,c);for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(X.a)(c,[{key:"componentDidCatch",value:function(e,t){e&&this.setState({hasError:!0},(function(){console.log("Error Info",t)}))}},{key:"render",value:function(){return!0===this.state.hasError?Object(_.jsx)("div",{className:"alert alert-danger",children:"Something went wrong. Please try again..."}):this.props.children}}]),c}(n.Component),ve=me;o.a.render(Object(_.jsx)(r.a.StrictMode,{children:Object(_.jsx)(fe,{children:Object(_.jsxs)(I.a,{store:he,children:[Object(_.jsx)(q.a,{maxSnack:3,anchorOrigin:{vertical:"top",horizontal:"right"},children:Object(_.jsx)(ve,{children:Object(_.jsx)(oe,{})})}),Object(_.jsx)(xe,{})]})})}),document.getElementById("root")),se()}},[[155,1,2]]]);
//# sourceMappingURL=main.aeb23d51.chunk.js.map